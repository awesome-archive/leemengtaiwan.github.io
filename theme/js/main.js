!function(e){"use strict";var t=800,s=e(window);document.documentElement.setAttribute("data-useragent",navigator.userAgent);var o,n,i,a,l,r,d,c,u,f,p,m,h,g,w=function(){function t(){o.reset(),n.slideUp("slow"),e(".message-warning").fadeOut(),e("#contactForm").fadeOut(),e(".message-success").fadeIn()}function s(){n.slideUp("slow"),e(".message-warning").html("Oh no！訊息寄送失敗，請查看你的網路連線並再度嘗試。"),e(".message-warning").slideDown("slow")}var o=document.getElementById("contactForm"),n=(document.getElementById("contactFormButton"),e(".submit-loader"));null!=o&&o.addEventListener("submit",function(e){e.preventDefault();var n=new FormData(o);!function(e,t,s,o,n){var i=new XMLHttpRequest;i.open(e,t),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?o(i.response,i.responseType):n(i.status,i.response,i.responseType))},i.send(s)}(o.method,o.action,n,t,s)})};e("html").addClass("ss-preload"),s.on("load",function(){e("#loader").fadeOut("slow",function(){e("#preloader").delay(300).fadeOut("slow")}),e("html").removeClass("ss-preload"),e("html").addClass("ss-loaded")}),e("pre").addClass("prettyprint"),e(document).ready(function(){prettyPrint()}),o=e(".page-hero"),n=e("header"),i=o.outerHeight()-170,s.on("scroll",function(){var e=s.scrollTop();e>i?n.addClass("sticky"):n.removeClass("sticky"),e>i+20?n.addClass("offset"):n.removeClass("offset"),e>i+150?n.addClass("scrolling"):n.removeClass("scrolling")}),a=e(".header-menu-toggle"),l=e(".header-nav-wrap"),a.on("click",function(e){e.preventDefault(),a.toggleClass("is-clicked"),l.slideToggle()}),a.is(":visible")&&l.addClass("mobile"),s.on("resize",function(){a.is(":visible")?l.addClass("mobile"):l.removeClass("mobile")}),l.find("a").on("click",function(){l.hasClass("mobile")&&(a.toggleClass("is-clicked"),l.slideToggle())}),(r=e(".masonry")).imagesLoaded(function(){r.masonry({itemSelector:".masonry__brick",resize:!0})}),d=[],c=e(".pswp")[0],(u=e(".item-folio")).each(function(t){var s=e(this),o=s.find(".thumb-link"),n=s.find(".item-folio__title"),i=s.find(".item-folio__caption"),a="<h4>"+e.trim(n.html())+"</h4>",l=e.trim(i.html()),r=o.attr("href"),c=o.data("size").split("x"),u={src:r,w:c[0],h:c[1]};i.length>0&&(u.title=e.trim(a+l)),d.push(u)}),u.each(function(t){e(this).on("click",function(e){new PhotoSwipe(c,PhotoSwipeUI_Default,d,{index:t,showHideOpacity:!0}).init()})}),e(".testimonials__slider").slick({arrows:!0,dots:!1,infinite:!0,slidesToShow:2,slidesToScroll:1,prevArrow:"<div class='slick-prev'><i class='im im-arrow-left' aria-hidden='true'></i></div>",nextArrow:"<div class='slick-next'><i class='im im-arrow-right' aria-hidden='true'></i></div>",pauseOnFocus:!1,autoplaySpeed:1500,responsive:[{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1}}]}),f=e(".target-section"),p=e(".header-nav li a"),f.waypoint({handler:function(t){var s;s=e("section#"+this.element.id),"up"===t&&(s=s.prevAll(".target-section").first());var o=e('.header-nav li a[href="#'+s.attr("id")+'"]');p.parent().removeClass("current"),o.parent().addClass("current")},offset:"25%"}),m=e(".s-stats"),h=e(".stats__count"),m.waypoint({handler:function(t){"down"===t&&h.each(function(){var t=e(this);e({Counter:0}).animate({Counter:t.text()},{duration:4e3,easing:"swing",step:function(e){t.text(Math.ceil(e))}})}),this.destroy()},offset:"90%"}),e(".smoothscroll").on("click",function(s){var o=this.hash,n=e(o);s.preventDefault(),s.stopPropagation(),e("html, body").stop().animate({scrollTop:n.offset().top},t,"swing",function(){window.location.hash=o})}),e("input, textarea, select").placeholder(),e(".alert-box").on("click",".alert-box__close",function(){e(this).parent().fadeOut(500)}),w(),g=e(".go-top"),e(window).on("scroll",function(){e(window).scrollTop()>=500?g.fadeIn(400):g.fadeOut(400)})}(jQuery);